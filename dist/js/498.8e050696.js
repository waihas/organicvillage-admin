"use strict";(self["webpackChunkdash_organicvillage"]=self["webpackChunkdash_organicvillage"]||[]).push([[498],{711:function(e,r,t){var s=t(2492),a=t.n(s);r["Z"]={showAlert:function(e,r,t,s=!0,o){return a().fire({icon:e,title:r,text:t,showConfirmButton:s,confirmButtonText:"Confirm",confirmButtonColor:"#868F03",timer:o})},showConfirmAlert:function(e,r,t,s,o,n){a().fire({icon:e,title:r,text:t,confirmButtonText:s,confirmButtonColor:"#868F03",showCancelButton:!0,denyButtonText:o,cancelButtonText:o}).then((e=>{e.isConfirmed&&n()}))}}},4498:function(e,r,t){t.r(r),t.d(r,{default:function(){return ee}});var s=t(3396),a=t(9242),o=t(7139);const n={class:"container px-6 mx-auto grid"},i=(0,s._)("h2",{class:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"}," Create a new gamme ",-1),l={class:"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300"},c=(0,s.Uk)(" Information "),d=(0,s._)("span",null,"Back",-1),m={class:"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},u={class:"block text-sm"},p=(0,s._)("span",{class:"text-gray-700 dark:text-gray-400"},"Name *",-1),g={key:0,class:"text-xs text-red-600 dark:text-red-400"},h={class:"block mt-4 text-sm"},x=(0,s._)("span",{class:"text-gray-700 dark:text-gray-400"},"Description",-1),y={key:0,class:"text-xs text-red-600 dark:text-red-400"},f={class:"block mt-4 text-sm"},w=(0,s._)("span",{class:"text-gray-700 dark:text-gray-400"},"Price *",-1),v={class:"relative text-gray-500 focus-within:text-primary-600 dark:focus-within:text-primary-400"},k=(0,s._)("div",{class:"absolute inset-y-0 right-0 flex items-center mr-3 pointer-events-none"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-5 h-5",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12.236 8.433c-1.084-.563-.955-1.54.665-1.634 1.732-.102 3.512.594 5.148 1.171l1.104-5.021c-1.527-.464-2.898-.737-4.153-.881v-2.068h-5v2.364c-3.326.969-4.792 3.47-4.792 5.816 0 5.245 5.964 6.138 7.513 6.858 1.38.618 1.215 1.526-.022 1.805-1.969.449-4.807-.743-6.357-1.345l-1.342 4.857c1.635.845 3.344 1.374 5 1.618v2.027h5v-2.236c2.932-.784 5.005-2.806 5-5.944 0-4.631-4.717-5.96-7.764-7.387zm.764 11.688v1.879h-1v-1.826c-1.581.012-3.234-.294-4.64-.88l.321-1.162c2.26.77 4.036.978 5.458.655 3.025-.685 3.608-4.13.41-5.562-1.809-.843-6.349-1.39-6.349-5.045 0-2.103 1.692-3.89 4.799-4.254v-1.926h1v1.863c1.123-.02 2.391.121 3.808.479l-.225 1.022c-1.176-.358-2.503-.632-3.799-.555-3.716.218-4.297 3.924-1.43 5.411 3.179 1.497 6.655 2.423 6.655 5.602.005 2.699-2.277 4.027-5.008 4.299z"})])],-1),b={key:0,class:"text-xs text-red-600 dark:text-red-400"},_={class:"block mt-4 text-sm"},z=(0,s._)("span",{class:"text-gray-700 dark:text-gray-400"},"Discount price",-1),C={class:"relative text-gray-500 focus-within:text-primary-600 dark:focus-within:text-primary-400"},D=(0,s._)("div",{class:"absolute inset-y-0 right-0 flex items-center mr-3 pointer-events-none"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-5 h-5",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12.236 8.433c-1.084-.563-.955-1.54.665-1.634 1.732-.102 3.512.594 5.148 1.171l1.104-5.021c-1.527-.464-2.898-.737-4.153-.881v-2.068h-5v2.364c-3.326.969-4.792 3.47-4.792 5.816 0 5.245 5.964 6.138 7.513 6.858 1.38.618 1.215 1.526-.022 1.805-1.969.449-4.807-.743-6.357-1.345l-1.342 4.857c1.635.845 3.344 1.374 5 1.618v2.027h5v-2.236c2.932-.784 5.005-2.806 5-5.944 0-4.631-4.717-5.96-7.764-7.387zm.764 11.688v1.879h-1v-1.826c-1.581.012-3.234-.294-4.64-.88l.321-1.162c2.26.77 4.036.978 5.458.655 3.025-.685 3.608-4.13.41-5.562-1.809-.843-6.349-1.39-6.349-5.045 0-2.103 1.692-3.89 4.799-4.254v-1.926h1v1.863c1.123-.02 2.391.121 3.808.479l-.225 1.022c-1.176-.358-2.503-.632-3.799-.555-3.716.218-4.297 3.924-1.43 5.411 3.179 1.497 6.655 2.423 6.655 5.602.005 2.699-2.277 4.027-5.008 4.299z"})])],-1),B={key:0,class:"text-xs text-red-600 dark:text-red-400"},q={class:"block mt-4 text-sm"},U=(0,s._)("span",{class:"text-gray-700 dark:text-gray-400"},"Image URL",-1),T={key:0,class:"text-xs text-red-600 dark:text-red-400"},P=["src"],A={class:"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300"},V=(0,s.Uk)(" Products "),j=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 mr-2 -ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})],-1),M=(0,s._)("span",{class:"hover:underline"},"Add",-1),Z=[j,M],H={key:0,class:"text-xs pb-3 text-red-600 dark:text-red-400"},I=(0,s._)("span",{class:"hover:underline"},"Delete",-1),$=[I],F={class:"block text-sm"},K=(0,s._)("span",{class:"text-gray-700 dark:text-gray-400"},"Name *",-1),N={class:"relative text-gray-500 focus-within:text-primary-600 dark:focus-within:text-primary-400"},E=["onUpdate:modelValue"],G=(0,s._)("div",{class:"absolute inset-y-0 right-0 flex items-center mr-3 pointer-events-none"},[(0,s._)("svg",{fill:"currentColor",class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M23 6.066v12.065l-11.001 5.869-11-5.869v-12.131l11-6 11.001 6.066zm-21.001 11.465l9.5 5.069v-10.57l-9.5-4.946v10.447zm20.001-10.388l-9.501 4.889v10.568l9.501-5.069v-10.388zm-5.52 1.716l-9.534-4.964-4.349 2.373 9.404 4.896 4.479-2.305zm-8.476-5.541l9.565 4.98 3.832-1.972-9.405-5.185-3.992 2.177z"})])],-1),L={class:"flex justify-end"},O=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 mr-2 -ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14 3h2.997v5h-2.997v-5zm9 1v20h-22v-24h17.997l4.003 4zm-17 5h12v-7h-12v7zm14 4h-16v9h16v-9z"})],-1),R=(0,s._)("span",null,"Create",-1),W=[O,R];function Y(e,r,t,j,M,I){const O=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",n,[i,(0,s._)("h4",l,[c,(0,s.Wm)(O,{to:{name:"gammes.index"},class:"flex items-center float-right justify-between px-4 py-2 text-sm font-medium leading-5 text-primary-600 hover:text-white transition-colors duration-150 bg-transparent hover:bg-primary-600 border-2 border-primary-600 rounded-lg active:bg-primary-600 focus:outline-none focus:shadow-outline-primary"},{default:(0,s.w5)((()=>[d])),_:1},8,["to"])]),(0,s._)("div",m,[(0,s._)("label",u,[p,(0,s.wy)((0,s._)("input",{class:"block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:text-gray-300 dark:focus:shadow-outline-gray form-input","onUpdate:modelValue":r[0]||(r[0]=e=>M.gamme.name=e)},null,512),[[a.nr,M.gamme.name]]),M.errors.name?((0,s.wg)(),(0,s.iD)("span",g,(0,o.zw)(M.errors.name),1)):(0,s.kq)("",!0)]),(0,s._)("label",h,[x,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":r[1]||(r[1]=e=>M.gamme.description=e),class:"block w-full mt-1 text-sm dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 form-textarea focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:focus:shadow-outline-gray",rows:"2"},null,512),[[a.nr,M.gamme.description]]),M.errors.description?((0,s.wg)(),(0,s.iD)("span",y,(0,o.zw)(M.errors.description),1)):(0,s.kq)("",!0)]),(0,s._)("label",f,[w,(0,s._)("div",v,[(0,s.wy)((0,s._)("input",{class:"block w-full pr-10 mt-1 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:focus:shadow-outline-gray form-input",placeholder:"500 (without currency symbol i.e. DH)","onUpdate:modelValue":r[2]||(r[2]=e=>M.gamme.price=e),type:"number"},null,512),[[a.nr,M.gamme.price]]),k]),M.errors.price?((0,s.wg)(),(0,s.iD)("span",b,(0,o.zw)(M.errors.price),1)):(0,s.kq)("",!0)]),(0,s._)("label",_,[z,(0,s._)("div",C,[(0,s.wy)((0,s._)("input",{class:"block w-full pr-10 mt-1 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:focus:shadow-outline-gray form-input",placeholder:"500 (without currency symbol i.e. DH)","onUpdate:modelValue":r[3]||(r[3]=e=>M.gamme.discount_price=e),type:"number"},null,512),[[a.nr,M.gamme.discount_price]]),D]),M.errors.discount_price?((0,s.wg)(),(0,s.iD)("span",B,(0,o.zw)(M.errors.discount_price),1)):(0,s.kq)("",!0)]),(0,s._)("label",q,[U,(0,s.wy)((0,s._)("input",{class:"block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:text-gray-300 dark:focus:shadow-outline-gray form-input","onUpdate:modelValue":r[4]||(r[4]=e=>M.gamme.image=e)},null,512),[[a.nr,M.gamme.image]]),M.errors.image?((0,s.wg)(),(0,s.iD)("span",T,(0,o.zw)(M.errors.image),1)):(0,s.kq)("",!0),M.gamme.image?((0,s.wg)(),(0,s.iD)("img",{key:1,src:M.gamme.image,class:"w-48 h-48 mt-4 mx-auto rounded-lg"},null,8,P)):(0,s.kq)("",!0)])]),(0,s._)("h4",A,[V,(0,s._)("button",{onClick:r[5]||(r[5]=(...e)=>I.addProduct&&I.addProduct(...e)),class:"flex items-center float-right justify-between px-4 text-sm font-medium leading-5 text-gray-600 transition-colors duration-150 bg-transparent border border-transparent rounded-lg focus:outline-none focus:shadow-outline-primary"},Z)]),M.errors.products?((0,s.wg)(),(0,s.iD)("span",H,(0,o.zw)(M.errors.products),1)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(M.products,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},[t==M.products.length-1&&0!=t?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[6]||(r[6]=(...e)=>I.removeProduct&&I.removeProduct(...e)),class:"flex items-center float-right justify-between pl-4 text-sm font-medium leading-5 text-gray-600 transition-colors duration-150 bg-transparent border border-transparent rounded-lg focus:outline-none focus:shadow-outline-primary"},$)):(0,s.kq)("",!0),(0,s._)("label",F,[K,(0,s._)("div",N,[(0,s.wy)((0,s._)("input",{class:"block w-full pr-10 mt-1 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:focus:shadow-outline-gray form-input",placeholder:"Amlou Originale (Kg)","onUpdate:modelValue":r=>e.name=r},null,8,E),[[a.nr,e.name]]),G])])])))),128)),(0,s._)("div",L,[(0,s._)("button",{onClick:r[7]||(r[7]=(...e)=>I.save&&I.save(...e)),class:"flex items-center float-right justify-between px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-primary-600 border border-transparent rounded-lg active:bg-primary-600 hover:bg-primary-700 focus:outline-none focus:shadow-outline-primary"},W)])])}var J=t(711),Q={data(){return{gamme:{name:null,description:null,image:"https://picsum.photos/seed/picsum/200/300",price:null,discount_price:null},errors:{name:null,description:null,image:null,price:null,discount_price:null,products:null},products:[{name:null}]}},methods:{addProduct(){let e={name:null};this.products.push(e)},removeProduct(){this.products.pop()},async save(){if(!this.gamme.name)return this.errors.name="The name is required.";if(!this.gamme.price)return this.errors.price="The price is required.";if(0==this.products.length)return this.errors.products="At least one product should be added.";if(this.gamme.price<this.gamme.discount_price)return this.errors.discount_price=`The discount price should be smaller than ${this.gamme.price}.`;this.products.forEach((e=>{if(!e.name)return this.errors.products="The name is required."}));let e={name:this.gamme.name,description:this.gamme.description,price:this.gamme.price,discount_price:this.gamme.discount_price,image:this.gamme.image,products:this.products};await this.$store.dispatch("storeGamme",e).then((e=>{e&&(J.Z.showAlert("success","Congratulations!","The gamme has been saved successfully.",!1,2e3),this.$router.push({name:"gammes.index"}))})).catch((e=>{console.log(e),e.response?.data?.errors?.name&&(this.errors.name=e.response.data.errors.name[0]),e.response?.data?.errors?.description&&(this.errors.description=e.response.data.errors.description[0]),e.response?.data?.errors?.image&&(this.errors.image=e.response.data.errors.image[0]),e.response?.data?.errors?.price&&(this.errors.price=e.response.data.errors.price[0]),e.response?.data?.errors?.products&&(this.errors.products=e.response.data.errors.products),J.Z.showAlert("error","Invalid data!","",!1,1e3)}))}}},S=t(89);const X=(0,S.Z)(Q,[["render",Y]]);var ee=X}}]);
//# sourceMappingURL=498.8e050696.js.map