"use strict";(self["webpackChunkdash_organicvillage"]=self["webpackChunkdash_organicvillage"]||[]).push([[293],{711:function(r,e,s){var a=s(2492),t=s.n(a);e["Z"]={showAlert:function(r,e,s,a=!0,o){return t().fire({icon:r,title:e,text:s,showConfirmButton:a,confirmButtonText:"Confirm",confirmButtonColor:"#868F03",timer:o})},showConfirmAlert:function(r,e,s,a,o,n){t().fire({icon:r,title:e,text:s,confirmButtonText:a,confirmButtonColor:"#868F03",showCancelButton:!0,denyButtonText:o,cancelButtonText:o}).then((r=>{r.isConfirmed&&n()}))}}},9293:function(r,e,s){s.r(e),s.d(e,{default:function(){return H}});var a=s(3396),t=s(9242),o=s(7139);const n={class:"container px-6 mx-auto grid"},i=(0,a._)("h2",{class:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"}," Profile ",-1),d=(0,a._)("h4",{class:"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300"}," Information ",-1),l={class:"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},u={class:"block text-sm"},m=(0,a._)("span",{class:"text-gray-700 dark:text-gray-400"},"Name",-1),c={key:0,class:"text-xs text-red-600 dark:text-red-400"},p={class:"block mt-4 text-sm"},w=(0,a._)("span",{class:"text-gray-700 dark:text-gray-400"},"Username",-1),h={key:0,class:"text-xs text-red-600 dark:text-red-400"},f={class:"block mt-4 text-sm"},y=(0,a._)("span",{class:"text-gray-700 dark:text-gray-400"},"Email",-1),g={key:0,class:"text-xs text-red-600 dark:text-red-400"},x={class:"flex justify-end"},_=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 mr-2 -ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[(0,a._)("path",{d:"M14 3h2.997v5h-2.997v-5zm9 1v20h-22v-24h17.997l4.003 4zm-17 5h12v-7h-12v7zm14 4h-16v9h16v-9z"})],-1),k=(0,a._)("span",null,"Update",-1),b=[_,k],v=(0,a._)("h4",{class:"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300"}," Password ",-1),z={class:"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},C={class:"block text-sm"},q=(0,a._)("span",{class:"text-gray-700 dark:text-gray-400"},"Current password",-1),T={key:0,class:"text-xs text-red-600 dark:text-red-400"},B={class:"block mt-4 text-sm"},I=(0,a._)("span",{class:"text-gray-700 dark:text-gray-400"},"New password",-1),P={key:0,class:"text-xs text-red-600 dark:text-red-400"},U={class:"block mt-4 text-sm"},A=(0,a._)("span",{class:"text-gray-700 dark:text-gray-400"},"New password confirmation",-1),D={key:0,class:"text-xs text-red-600 dark:text-red-400"},Z={class:"flex justify-end"},V=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 mr-2 -ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[(0,a._)("path",{d:"M14 3h2.997v5h-2.997v-5zm9 1v20h-22v-24h17.997l4.003 4zm-17 5h12v-7h-12v7zm14 4h-16v9h16v-9z"})],-1),j=(0,a._)("span",null,"Update",-1),N=[V,j];function F(r,e,s,_,k,V){return(0,a.wg)(),(0,a.iD)("div",n,[i,d,(0,a._)("div",l,[(0,a._)("label",u,[m,(0,a.wy)((0,a._)("input",{class:"block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:text-gray-300 dark:focus:shadow-outline-gray form-input","onUpdate:modelValue":e[0]||(e[0]=r=>k.name=r)},null,512),[[t.nr,k.name]]),k.errors.name?((0,a.wg)(),(0,a.iD)("span",c,(0,o.zw)(k.errors.name),1)):(0,a.kq)("",!0)]),(0,a._)("label",p,[w,(0,a.wy)((0,a._)("input",{class:"block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:text-gray-300 dark:focus:shadow-outline-gray form-input","onUpdate:modelValue":e[1]||(e[1]=r=>k.username=r)},null,512),[[t.nr,k.username]]),k.errors.username?((0,a.wg)(),(0,a.iD)("span",h,(0,o.zw)(k.errors.username),1)):(0,a.kq)("",!0)]),(0,a._)("label",f,[y,(0,a.wy)((0,a._)("input",{class:"block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:text-gray-300 dark:focus:shadow-outline-gray form-input","onUpdate:modelValue":e[2]||(e[2]=r=>k.email=r),type:"email"},null,512),[[t.nr,k.email]]),k.errors.email?((0,a.wg)(),(0,a.iD)("span",g,(0,o.zw)(k.errors.email),1)):(0,a.kq)("",!0)])]),(0,a._)("div",x,[(0,a._)("button",{onClick:e[3]||(e[3]=(...r)=>V.updateInformation&&V.updateInformation(...r)),class:"flex items-center float-right justify-between px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-primary-600 border border-transparent rounded-lg active:bg-primary-600 hover:bg-primary-700 focus:outline-none focus:shadow-outline-primary mb-4"},b)]),v,(0,a._)("div",z,[(0,a._)("label",C,[q,(0,a.wy)((0,a._)("input",{class:"block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:text-gray-300 dark:focus:shadow-outline-gray form-input","onUpdate:modelValue":e[4]||(e[4]=r=>k.current_password=r),placeholder:"********",type:"password"},null,512),[[t.nr,k.current_password]]),k.errors.current_password?((0,a.wg)(),(0,a.iD)("span",T,(0,o.zw)(k.errors.current_password),1)):(0,a.kq)("",!0)]),(0,a._)("label",B,[I,(0,a.wy)((0,a._)("input",{class:"block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:text-gray-300 dark:focus:shadow-outline-gray form-input","onUpdate:modelValue":e[5]||(e[5]=r=>k.new_password=r),placeholder:"********",type:"password"},null,512),[[t.nr,k.new_password]]),k.errors.new_password?((0,a.wg)(),(0,a.iD)("span",P,(0,o.zw)(k.errors.new_password),1)):(0,a.kq)("",!0)]),(0,a._)("label",U,[A,(0,a.wy)((0,a._)("input",{class:"block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-primary-400 focus:outline-none focus:shadow-outline-primary dark:text-gray-300 dark:focus:shadow-outline-gray form-input","onUpdate:modelValue":e[6]||(e[6]=r=>k.password_confirmation=r),placeholder:"********",type:"password"},null,512),[[t.nr,k.password_confirmation]]),k.errors.password_confirmation?((0,a.wg)(),(0,a.iD)("span",D,(0,o.zw)(k.errors.password_confirmation),1)):(0,a.kq)("",!0)])]),(0,a._)("div",Z,[(0,a._)("button",{onClick:e[7]||(e[7]=(...r)=>V.updatePassword&&V.updatePassword(...r)),class:"flex items-center float-right justify-between px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-primary-600 border border-transparent rounded-lg active:bg-primary-600 hover:bg-primary-700 focus:outline-none focus:shadow-outline-primary"},N)])])}var M=s(23),S=s(711),$={mounted(){this.loadProfileInformation()},data(){return{name:null,email:null,username:null,current_password:null,new_password:null,password_confirmation:null,errors:{name:null,email:null,username:null,current_password:null,new_password:null,password_confirmation:null}}},methods:{loadProfileInformation(){M.Z.get("user/me").then((r=>{this.order=r.data.data,this.name=r.data.data.name,this.email=r.data.data.email,this.username=r.data.data.username})).catch((r=>{console.error(r)}))},async updateInformation(){if(!this.name)return this.errors.name="The name field is required.";if(!this.email)return this.errors.email="The email field is required.";if(!this.username)return this.errors.username="The username field is required.";let r={name:this.name,email:this.email,username:this.username};await this.$store.dispatch("updateAdminInformation",r).then((r=>{r&&S.Z.showAlert("success","Success!","Profile information have been updated successfully.",!1,2e3)})).catch((r=>{this.errors.name=null,this.errors.email=null,this.errors.username=null,r.response?.data?.errors?.name&&(this.errors.name=r.response.data.errors.name[0]),r.response?.data?.errors?.email&&(this.errors.email=r.response.data.errors.email[0]),r.response?.data?.errors?.username&&(this.errors.username=r.response.data.errors.username[0]),S.Z.showAlert("error","Invalid information!","",!1,1e3)}))},async updatePassword(){if(!this.current_password)return this.errors.current_password="The current password is required.";if(!this.new_password)return this.errors.new_password="The new password is required.";if(!this.password_confirmation)return this.errors.password_confirmation="The password confirmation is required.";if(this.new_password!==this.password_confirmation)return this.errors.password_confirmation="The password confirmation doesn't match the new password.";let r={current_password:this.current_password,password:this.new_password,password_confirmation:this.password_confirmation};await this.$store.dispatch("updateAdminPassword",r).then((r=>{r&&S.Z.showAlert("success","Success!","The password has been updated successfully.",!1,2e3)})).catch((r=>{this.errors.current_password=null,this.errors.new_password=null,this.errors.password_confirmation=null,r.response?.data?.errors?.current_password&&(this.errors.current_password=r.response.data.errors.current_password[0]),r.response?.data?.errors?.password&&(this.errors.new_password=r.response.data.errors.password[0]),r.response?.data?.errors?.password_confirmation&&(this.errors.password_confirmation=r.response.data.errors.password_confirmation[0]),S.Z.showAlert("error","Invalid information!","",!1,1e3)}))}}},E=s(89);const G=(0,E.Z)($,[["render",F]]);var H=G}}]);
//# sourceMappingURL=293.35f80720.js.map